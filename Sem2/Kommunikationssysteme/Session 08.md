# Session 08

<!-- toc orderedList:0 depthFrom:2 depthTo:6 -->

* [Computer Networks](#computer-networks)
  * [Application layer](#application-layer)
    * [DNS - Domain Name System](#dns-domain-name-system)
      * [DNS name space](#dns-name-space)
      * [Domain Resource records](#domain-resource-records)
      * [Name servers](#name-servers)
    * [The Web](#the-web)
      * [Architectural overview](#architectural-overview)
        * [Server steps, revisited:](#server-steps-revisited)
        * [Cookies](#cookies)
      * [Static web pages](#static-web-pages)
      * [Dynamic pages and web applications](#dynamic-pages-and-web-applications)
      * [HTTP - Hyper Text Transfer protocol](#http-hyper-text-transfer-protocol)
      * [The mobile web](#the-mobile-web)
      * [Web search](#web-search)
    * [Streaming Audio and Video](#streaming-audio-and-video)
    * [Content Delivery](#content-delivery)

<!-- tocstop -->

## Computer Networks
### Application layer
* Uses transport services to build distributed applications

#### DNS - Domain Name System
* DNS resolves high-level human readable names for computers to low-level IP addresses

##### DNS name space
* DNS namespace is hierarchical from the root down
* Different parts delegated to different organizations
* Generic top-level domains are controlled by ICANN who appoints registrars to run them

##### Domain Resource records
* The key resource records in the namespace are IP addresses (A/AAAA) and name servers (NS)
* There are others too (e. g. MX)

##### Name servers
* Finding the IP address for a given hostname is called **resolution**
* Is done with the DNS protocol
* Resolution
  * Computer requests local name server to resolve
  * Local name server asks the root name server
  * Root returns the name server for a lower zone
  * Continue down zones until name server can answer
* DNS protocol
  * Runs on UDP port 53
  * Retransmits lost messages
  * Caches name server answers for better performance

#### The Web
##### Architectural overview
* HTTP transfers pages from servers to browsers
* Pages are named with URLs (Uniform Resource Locators)
* Steps a client (browser) takes to follow a hyperlink:
  * Determine the protocol (HTTP)
  * Ask DNS for the IP address of the server
  * Make a TCP connection to the server
  * Send request for the page; server sends it back
  * Fetch other URLs as needed to display the page
  * Close idle TCP connection
* Steps a server takes to serve pages:
  * Accept a TCP connection from client
  * Get page request and map it to a resource (e. g. file name)
  * Get the resource (e. g. file from disk)
  * Send contents of the resource to the client
  * Release idle TCP connections
* Content type is identified by MIME types
  * Browser takes the appropriate action to display
  * Plug-ins/helper apps extend browser for new types
* To scale performance, web servers can use:
  * Caching
  * Multiple threads
  * Front ends

###### Server steps, revisited:
* Resolve name of web page requested
* Perform access control on the web page
* Check the cache
* Fetch requested page from disk or run program
* Determine the rest of the response
* Return the response to the client
* Make an entry in the server log

###### Cookies
* Cookies support stateful client/server interactions
* Server sends cookies (state) with page response
* Client stores cookies across page fetches
* Client sends cookies back to server with requests

##### Static web pages
* Static web pages are simply files
* Have the same contents for each viewer
* Can be visually rich and interactive nonetheless
  * HTML that mixes text and images
  * Forms that gather user input
  * Style sheets that tailor presentation
  * Vector graphics, videos, and more

##### Dynamic pages and web applications
* Dynamic pages are generated by programs running at the server (e. g. with a database) and the client
* E. g. PHP at server, JS at client
* Pages vary each time like using an application
* Web applications use a set of technologies that work together, e. g. AJAX:
  * HTML: present information as pages
  * DOM: change parts of pages while they are viewed
  * XML: let programs exchange data with the server
  * Asynchronous way to send and retrieve XML data
  * JS as a language to bind all of this together

##### HTTP - Hyper Text Transfer protocol
* HTTP is a request-response protocol that runs on top of TCP
* Fetches pages from server to client
* Server usually runs on port 80
* Headers are given in readable ASCII
* Content is described with MIME types
* Protocol has support for pipelining requests
* Protocol has support for caching
* HTTP has several request methods
  * E. g. GET, POST, PUT
* Response codes tell the client how the request fared
  * 1xx: Information
  * 2xx: Success
  * 3xx: Redirection
  * 4xx: Client error
  * 5xx: Server error
* Many headers carry key information
* HTTP caching checks to see if the browser has a known fresh copy, and if not if the server has updated the web page
  * Uses a collection of headers for the checks
  * Can include further levels of caching (e. g. a proxy)

##### The mobile web
* Mobiles (phones, tablets) are challenging as clients
  * Relatively small screens
  * Limited input capabilities, lengthy input
  * Network bandwidth is limited
  * Connectivity may be intermittent
  * Computing power is limited
* Strategies to handle them
  * Content:
    * Servers provide mobile-friendly versions
    * Transcoding can also be used
  * Protocols
    * No real need for specialized protocols
    * HTTP with header compression is sufficient

##### Web search
* Search has proved hugely popular, in tandem with advertising that has proved hugely profitable
* A simple interface for users to navigate the web
* Search engine requires:
  * Content from all sites, accessed by **crawling** (follor links to new pages, but beware programs)
  * Indexing, which benefits from known and discovered structure (such as XML) to increase relevance

#### Streaming Audio and Video

#### Content Delivery
